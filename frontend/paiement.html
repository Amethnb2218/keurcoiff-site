<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paiement ‚Ä¢ KeurCoiff'</title>
    
    <!-- Styles -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#7C3AED',
                        secondary: '#F59E0B', 
                        accent: '#10B981',
                        dark: '#1F2937',
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        .loader-small {
            border: 2px solid #f3f4f6;
            border-top: 2px solid #7C3AED;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .payment-method {
            transition: all 0.3s ease;
        }
        
        .payment-method.selected {
            border-color: #7C3AED;
            background-color: #faf5ff;
            transform: scale(1.02);
        }
        
        .security-badge {
            background: linear-gradient(135deg, #10B981, #059669);
        }
    </style>
</head>

<body class="font-inter bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <a href="index.html" class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-r from-primary to-purple-600 rounded-xl flex items-center justify-center">
                            <i class="fas fa-crown text-white"></i>
                        </div>
                        <span class="text-xl font-bold bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent">KeurCoiff'</span>
                    </a>
                </div>

                <!-- S√©curit√© -->
                <div class="flex items-center space-x-2 text-green-600">
                    <i class="fas fa-lock"></i>
                    <span class="text-sm font-medium">Paiement 100% S√©curis√©</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Section Paiement -->
    <section class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid lg:grid-cols-2 gap-8">
            <!-- Formulaire de paiement -->
            <div class="space-y-6">
                <!-- En-t√™te -->
                <div class="text-center lg:text-left">
                    <h1 class="text-4xl font-bold text-gray-900 mb-4">Paiement s√©curis√©</h1>
                    <p class="text-xl text-gray-600">Finalisez votre r√©servation en toute s√©curit√©</p>
                </div>

                <!-- M√©thodes de paiement -->
                <div class="bg-white rounded-3xl shadow-lg p-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Choisissez votre moyen de paiement</h2>
                    
                    <div class="space-y-4 mb-8">
                        <!-- Orange Money -->
                        <div class="payment-method border-2 border-gray-200 rounded-2xl p-6 cursor-pointer"
                             onclick="selectPaymentMethod('orange')"
                             id="payment-orange">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-4">
                                    <div class="w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-mobile-alt text-white text-xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-gray-900">Orange Money</h3>
                                        <p class="text-gray-600 text-sm">Paiement par mobile</p>
                                    </div>
                                </div>
                                <div class="text-orange-600 font-semibold">Populaire</div>
                            </div>
                        </div>

                        <!-- Wave -->
                        <div class="payment-method border-2 border-gray-200 rounded-2xl p-6 cursor-pointer"
                             onclick="selectPaymentMethod('wave')"
                             id="payment-wave">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-4">
                                    <div class="w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-wave-square text-white text-xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-gray-900">Wave</h3>
                                        <p class="text-gray-600 text-sm">Paiement mobile</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Carte Bancaire -->
                        <div class="payment-method border-2 border-gray-200 rounded-2xl p-6 cursor-pointer"
                             onclick="selectPaymentMethod('card')"
                             id="payment-card">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-4">
                                    <div class="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-credit-card text-white text-xl"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-gray-900">Carte Bancaire</h3>
                                        <p class="text-gray-600 text-sm">Visa, Mastercard</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Formulaire dynamique -->
                    <div id="paymentForms">
                        <!-- Les formulaires seront charg√©s dynamiquement -->
                    </div>

                    <!-- Bouton de paiement -->
                    <button onclick="processPayment()" 
                            class="w-full bg-primary text-white py-4 rounded-xl font-semibold hover:bg-purple-600 transition-colors flex items-center justify-center">
                        <span id="payButtonText">Payer maintenant</span>
                        <div id="payButtonLoader" class="hidden">
                            <div class="loader-small"></div>
                        </div>
                    </button>

                    <!-- S√©curit√© -->
                    <div class="mt-6 text-center">
                        <div class="flex items-center justify-center space-x-2 text-green-600 text-sm">
                            <i class="fas fa-shield-alt"></i>
                            <span>Paiement 100% s√©curis√© et crypt√©</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- R√©capitulatif -->
            <div class="space-y-6">
                <!-- Commande -->
                <div class="bg-white rounded-3xl shadow-lg p-6 sticky top-6">
                    <h3 class="text-xl font-bold text-gray-900 mb-4">Votre commande</h3>
                    
                    <div class="space-y-4">
                        <!-- Service -->
                        <div class="flex justify-between items-start pb-4 border-b border-gray-200">
                            <div>
                                <div class="font-semibold text-gray-900">Tresses vanilles</div>
                                <div class="text-sm text-gray-600">Salon Awa Beauty</div>
                                <div class="text-sm text-gray-600">15 D√©c 2024 ‚Ä¢ 14:00</div>
                            </div>
                            <div class="font-semibold text-primary">8 000 FCFA</div>
                        </div>
                        
                        <!-- Frais de service -->
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-gray-600">Frais de service</span>
                            <span class="text-gray-600">500 FCFA</span>
                        </div>
                        
                        <!-- Total -->
                        <div class="flex justify-between items-center pt-4 border-t border-gray-200">
                            <span class="text-lg font-bold text-gray-900">Total</span>
                            <span class="text-2xl font-bold text-primary">8 500 FCFA</span>
                        </div>
                    </div>
                </div>

                <!-- Garanties -->
                <div class="bg-gradient-to-r from-primary to-purple-600 text-white rounded-3xl shadow-lg p-6">
                    <h3 class="font-bold mb-4">Vos garanties</h3>
                    <div class="space-y-3 text-sm">
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-shield-check text-white/80"></i>
                            <span>Paiement 100% s√©curis√©</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-clock text-white/80"></i>
                            <span>Confirmation instantan√©e</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-undo-alt text-white/80"></i>
                            <span>Annulation gratuite sous 2h</span>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-headset text-white/80"></i>
                            <span>Support 24h/24</span>
                        </div>
                    </div>
                </div>

                <!-- Assistance -->
                <div class="bg-white rounded-3xl shadow-lg p-6">
                    <h3 class="font-bold text-gray-900 mb-3">Besoin d'aide ?</h3>
                    <div class="space-y-2 text-sm text-gray-600">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-phone text-primary"></i>
                            <span>+221 77 123 45 67</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <i class="fab fa-whatsapp text-green-500"></i>
                            <span>WhatsApp</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-envelope text-primary"></i>
                            <span>support@keurcoiff.sn</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        let selectedPaymentMethod = null;
        const paymentDetails = {
            service: 'Tresses vanilles',
            salon: 'Salon Awa Beauty',
            date: '15 D√©c 2024',
            time: '14:00',
            price: 8000,
            fees: 500,
            total: 8500
        };

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üí≥ Initialisation de la page paiement...');
            loadPaymentForms();
        });

        function selectPaymentMethod(method) {
            // Retirer la s√©lection pr√©c√©dente
            document.querySelectorAll('.payment-method').forEach(payment => {
                payment.classList.remove('selected');
                payment.classList.add('border-gray-200');
            });
            
            // Ajouter la nouvelle s√©lection
            const selectedPayment = document.getElementById(`payment-${method}`);
            selectedPayment.classList.add('selected');
            selectedPayment.classList.remove('border-gray-200');
            
            selectedPaymentMethod = method;
            showPaymentForm(method);
        }

        function showPaymentForm(method) {
            const formsContainer = document.getElementById('paymentForms');
            let formHTML = '';

            switch(method) {
                case 'orange':
                    formHTML = `
                        <div class="space-y-4 mb-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Num√©ro Orange Money *</label>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <span class="text-gray-500">+221</span>
                                    </div>
                                    <input 
                                        type="tel" 
                                        id="orangeNumber"
                                        placeholder="77 123 45 67"
                                        class="w-full p-4 pl-16 rounded-xl border border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                                    >
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Code PIN *</label>
                                <input 
                                    type="password" 
                                    id="orangePin"
                                    placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                    maxlength="4"
                                    class="w-full p-4 rounded-xl border border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                                >
                                <p class="text-xs text-gray-500 mt-2">Code √† 4 chiffres de votre compte Orange Money</p>
                            </div>
                        </div>
                    `;
                    break;

                case 'wave':
                    formHTML = `
                        <div class="space-y-4 mb-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Num√©ro Wave *</label>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <span class="text-gray-500">+221</span>
                                    </div>
                                    <input 
                                        type="tel" 
                                        id="waveNumber"
                                        placeholder="77 123 45 67"
                                        class="w-full p-4 pl-16 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    >
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Code PIN *</label>
                                <input 
                                    type="password" 
                                    id="wavePin"
                                    placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                    maxlength="4"
                                    class="w-full p-4 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                >
                                <p class="text-xs text-gray-500 mt-2">Code √† 4 chiffres de votre compte Wave</p>
                            </div>
                        </div>
                    `;
                    break;

                case 'card':
                    formHTML = `
                        <div class="space-y-4 mb-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Num√©ro de carte *</label>
                                <input 
                                    type="text" 
                                    id="cardNumber"
                                    placeholder="1234 5678 9012 3456"
                                    class="w-full p-4 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                >
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">Date d'expiration *</label>
                                    <input 
                                        type="text" 
                                        id="cardExpiry"
                                        placeholder="MM/AA"
                                        class="w-full p-4 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    >
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">CVV *</label>
                                    <input 
                                        type="text" 
                                        id="cardCvv"
                                        placeholder="123"
                                        maxlength="3"
                                        class="w-full p-4 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    >
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Nom sur la carte *</label>
                                <input 
                                    type="text" 
                                    id="cardName"
                                    placeholder="AWA DIOP"
                                    class="w-full p-4 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                >
                            </div>
                        </div>
                    `;
                    break;
            }

            formsContainer.innerHTML = formHTML;
        }

        function loadPaymentForms() {
            // Par d√©faut, s√©lectionner Orange Money
            selectPaymentMethod('orange');
        }

        function processPayment() {
            if (!selectedPaymentMethod) {
                showNotification('Veuillez s√©lectionner un moyen de paiement', 'error');
                return;
            }

            // Validation basique
            if (!validatePaymentForm()) {
                return;
            }

            // Simulation de traitement
            const payButtonText = document.getElementById('payButtonText');
            const payButtonLoader = document.getElementById('payButtonLoader');
            
            payButtonText.classList.add('hidden');
            payButtonLoader.classList.remove('hidden');

            // Simulation de d√©lai de traitement
            setTimeout(() => {
                showNotification('Paiement trait√© avec succ√®s !', 'success');
                
                // Redirection vers la confirmation
                setTimeout(() => {
                    window.location.href = 'confirmation.html';
                }, 2000);
                
            }, 3000);
        }

        function validatePaymentForm() {
            switch(selectedPaymentMethod) {
                case 'orange':
                    const orangeNumber = document.getElementById('orangeNumber').value;
                    const orangePin = document.getElementById('orangePin').value;
                    
                    if (!orangeNumber || orangeNumber.length !== 9) {
                        showNotification('Num√©ro Orange Money invalide', 'error');
                        return false;
                    }
                    if (!orangePin || orangePin.length !== 4) {
                        showNotification('Code PIN invalide', 'error');
                        return false;
                    }
                    break;

                case 'wave':
                    const waveNumber = document.getElementById('waveNumber').value;
                    const wavePin = document.getElementById('wavePin').value;
                    
                    if (!waveNumber || waveNumber.length !== 9) {
                        showNotification('Num√©ro Wave invalide', 'error');
                        return false;
                    }
                    if (!wavePin || wavePin.length !== 4) {
                        showNotification('Code PIN invalide', 'error');
                        return false;
                    }
                    break;

                case 'card':
                    const cardNumber = document.getElementById('cardNumber').value;
                    const cardExpiry = document.getElementById('cardExpiry').value;
                    const cardCvv = document.getElementById('cardCvv').value;
                    const cardName = document.getElementById('cardName').value;
                    
                    if (!cardNumber || cardNumber.replace(/\s/g, '').length !== 16) {
                        showNotification('Num√©ro de carte invalide', 'error');
                        return false;
                    }
                    if (!cardExpiry || !cardExpiry.match(/^(0[1-9]|1[0-2])\/([0-9]{2})$/)) {
                        showNotification('Date d\'expiration invalide', 'error');
                        return false;
                    }
                    if (!cardCvv || cardCvv.length !== 3) {
                        showNotification('Code CVV invalide', 'error');
                        return false;
                    }
                    if (!cardName) {
                        showNotification('Nom sur la carte requis', 'error');
                        return false;
                    }
                    break;
            }

            return true;
        }

        // Fonction de notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-500' : 
                           type === 'error' ? 'bg-red-500' : 'bg-blue-500';
            
            notification.innerHTML = `
                <div class="fixed top-4 right-4 ${bgColor} text-white px-6 py-4 rounded-2xl shadow-2xl z-50 max-w-sm animate-slideIn">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'exclamation-triangle' : 'info'}"></i>
                        <div class="font-medium">${message}</div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }

        // Style d'animation pour la notification
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            .animate-slideIn {
                animation: slideIn 0.3s ease-out;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>